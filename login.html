<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Movies</title>
		<!-- Required meta tags -->
		<meta charset="utf-8" />
		<meta
			name="viewport"
			content="width=device-width, initial-scale=1, shrink-to-fit=no"
		/>

		<!-- Bootstrap CSS -->
		<link
			rel="stylesheet"
			href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
			integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
			crossorigin="anonymous"
		/>

		<!-- font Awesome -->
		<script
			src="https://kit.fontawesome.com/7a3da45493.js"
			crossorigin="anonymous"
		></script>

		<!-- Google font -->
		<link
			href="https://fonts.googleapis.com/css2?family=Roboto:wght@500;700;900&display=swap"
			rel="stylesheet"
		/>

		<link rel="stylesheet" href="css/main.css" />
	</head>
	<body>

		<!-- Page wrapper -->
        <div class="page-wrapper">
			<!-- Page Header-->
			<header class="nav_header sticky-top">
				<!-- Bootstrap container -->
				<div class="container">
					<!-- Navbar -->
					<nav
						class="navbar navbar-dark navbar-expand-md justify-content-between p-1"
					>
						<button
							class="navbar-toggler"
							type="button"
							data-toggle="collapse"
							data-target=".dual-nav"
						>
							<span class="navbar-toggler-icon"></span>
						</button>
						<div
							class="navbar-collapse collapse dual-nav w-50 order-1 order-md-0"
						>
							<ul class="navbar-nav">
								<li class="nav-item">
									<a class="nav-link" href="home.html">Home</a>
								</li>
								<li class="nav-item pl-0">
									<a class="nav-link" href="gallery.html">Gallery</a>
								</li>
								<li class="nav-item d-none">
									<a class="nav-link" href="contact-us.html">Contact Us</a>
								</li>
								<li class="nav-item d-none">
									<a class="nav-link" href="about-us.html">About Us</a>
								</li>
							</ul>
						</div>

						<a
							href="home.html"
							class="navbar-brand mx-auto d-block font-weight-bold text-center order-0 order-md-1 w-25 bolder"
							style="font-size: 30px"
							><span class="font-weight-bolder" style="color: var(--warning-co)"
								>M</span
							>ovies</a
						>

						<div class="navbar-collapse collapse w-50 order-2">
							<ul class="nav navbar-nav ml-auto" style="font-size: 20px">
								<li class="nav-item active mr-2">
									<a class="nav-link" href="register.html"
										><i class="fas fa-user-circle"></i
									></a>
								</li>

								<li class="nav-item cart-btn">
									<a class="nav-link" href="">
										<i class="fas fa-cart-plus"></i>
										<span class="cart-items">0</span>
									</a>
								</li>
							</ul>
						</div>
					</nav>
					<!-- End of Navbar -->
				</div>
				<!--End of Bootstrap container -->
			</header>
			<!--End Of Page Header-->


             <section>
                <div class="jumbotron jumbotron-fluid colored-section">
                    <div class="container-fluid centerVertically">
                        <div class="container" style="height: inherit;">
                            <h1 class="display-2  page-title text-center">Sign in</h1>

                            <div id="form-main">
                            <div id="form-div">
                                <form class="form" id="form1" onsubmit="mySubmit(event)">

                                <p>
                                    <input name="username" type="text" class="feedback-input" placeholder="Username between 3 and 8 characters" id="username" onclick="validateUserName1()" onkeydown="validateUserName1()"/>
                                </p>


                                <p>
                                    <input name="phone" type="text" class="feedback-input" id="phone" value="" placeholder="Phone"onkeydown="validatePhone1()" onclick="validatePhone1()" ></input>
                                </p>

                                  <!-- <div class="checkbox mb-3">
                                    <label>
                                    <input type="checkbox" value="remember-me" checked> Remember me
                                    </label>
                                  </div> -->

                                <div class="submit">
                                    <input type="submit" value="Login" id="button-yellow"/>
                                    <div class="ease"></div>
                                </div>
                                <p class="mb-0 mt-5 p-0 text-center"> Don't have an account?
                                    <a href="register.html" style="color: var(--warning-co)">Register</a>
                                </p>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </body>

				<!-- Page Content -->

			</div>


		</div>
		<!-- End of Page wrapper -->

		<!-- Optional JavaScript -->
		<!-- jQuery first, then Popper.js, then Bootstrap JS -->
		<script
			src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
			integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
			crossorigin="anonymous"
		></script>
		<script
			src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
			integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
			crossorigin="anonymous"
		></script>
		<script
			src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
			integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
			crossorigin="anonymous"
		></script>
        <script src="js/script.js"></script>
		<script>

            username = document.getElementById('username')
            phone = document.getElementById('phone')

             let users = JSON.parse(localStorage.getItem('usersString'))

            let usernameValue;
            let phoneValue;

            function validateUserName1(){
                usernameValue = username.value.trim();

                if (usernameValue) {
                    if (/^[A-z0-9]{3,8}$/.test(usernameValue)) {
                        username.classList.remove('borderRed');
                        username.classList.add('borderGreen');
                    } else {
                        username.classList.add('borderRed');
                        username.classList.remove('borderGreen');
                    }
                } else {
                        username.classList.add('borderRed');
                }
            }


            function validatePhone1(){
                phoneValue = phone.value.trim();

                if (phoneValue) {
                    if (/^[0-9]*$/.test(phoneValue)) {

                        phone.classList.remove('borderRed');
                        phone.classList.add('borderGreen');

                    } else {
                        phone.classList.add('borderRed');
                        phone.classList.remove('borderGreen');
                    }
                } else {
                        phone.classList.add('borderRed');
                }
            }

            function mySubmit(e){
                e.preventDefault();

            try{
                for (let i = 0; users.length ; i++) {

                    if((users[i].username1==usernameValue) && (users[i].password1 == phoneValue)){

                            validateUserName1()
                            validatePhone1()

                            localStorage.setItem('isLoggedIn', 'YES');

                            location.href = 'home.html'

                            alert('welcome '+usernameValue)
                            break;
                    }
                }

            }catch (e) {
                alert(e);
                alert(e.message);
                alert('Invalid Log-in!')
                throw new Error(e.message);


            }
                return false;
        }



      </script>


		<!-- <script>

             username = document.getElementById('username')
            phone = document.getElementById('phone')
            let usernameValue, phoneValue;


            function validateUserName1(){
                usernameValue = username.value.trim();

                if (usernameValue) {
                    if (/^[A-z0-9]{3,8}$/.test(usernameValue)) {
                        username.classList.remove('borderRed');
                        username.classList.add('borderGreen');
                    } else {
                        username.classList.add('borderRed');
                        username.classList.remove('borderGreen');
                    }
                } else {
                        username.classList.add('borderRed');
                }
            }


            function validatePhone1(){
                phoneValue = phone.value.trim();

                if (phoneValue) {
                    if (/^[0-9]*$/.test(phoneValue)) {

                        phone.classList.remove('borderRed');
                        phone.classList.add('borderGreen');

                    } else {
                        phone.classList.add('borderRed');
                        phone.classList.remove('borderGreen');
                    }
                } else {
                        phone.classList.add('borderRed');
                }
            }

        function mySubmit(e){
          e.preventDefault();
          try{

            if((usernameValue!="")&&(phoneValue!="")){
                validateUserName1()
                validatePhone1()

                if ((usernameValue == localStorage.getItem('usernameValue')) && (phoneValue == localStorage.getItem('phoneValue'))) {
                location.href = 'home.html'
                    alert('welcome '+usernameValue)

                } else {
                    alert("Invalid Log-in!");
                    return false;

                }

                $("#username").val("").removeClass('borderGreen');
                $("#phone").val("").removeClass('borderGreen');


            }else{
                alert('sth wrong')
            }
          }catch (e) {
            throw new Error(e.message);
          }
            return false;
        }


      </script> -->
	</body>
</html>
